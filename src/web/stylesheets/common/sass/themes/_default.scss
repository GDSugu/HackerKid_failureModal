$thememaplight : (
  'text-color-1': #FFFFFF,
  'text-color-2': #212527,
  'text-color-3': #5B5B5B,
  'text-color-4': #C4C4C4,
  'text-color-5': #A9ABAC,
  'text-color-6': #E0E0E0,
  'nav-bg-blue': #0051FF,
  'nav-bg-green': #24AA70,
  'nav-bg-lightBlue': #00BAFF,
  'nav-bg-red': #FF423D,
  'nav-bg-yellow': #FFBC04,
  'body-bg-blue': #E9EBFF,
  'body-bg-green': #E5F4ED,
  'body-bg-lightBlue': #DFF8FE,
  'body-bg-red': #FFECF0,
  'body-bg-yellow': #FFF7E1,
);
// just copied the light theme colors to the dark for now
  // TODO: make this a real dark theme with appropriate colors
$thememapdark : (
  'text-color-1': #FFFFFF,
  'text-color-2': #212527,
  'text-color-3': #5B5B5B,
  'text-color-4': #C4C4C4,
  'text-color-5': #A9ABAC,
  'text-color-6': #E0E0E0,
  'nav-bg-blue': #0051FF,
  'nav-bg-green': #24AA70,
  'nav-bg-lightBlue': #00BAFF,
  'nav-bg-red': #FF423D,
  'nav-bg-yellow': #FFBC04,
  'body-bg-blue': #E9EBFF,
  'body-bg-green': #E5F4ED,
  'body-bg-lightBlue': #DFF8FE,
  'body-bg-red': #FFECF0,
  'body-bg-yellow': #FFF7E1,
);

$cssvars : (
  'text-color-1': '--text-color-1',
  'text-color-2': '--text-color-2',
  'text-color-3': '--text-color-3',
  'text-color-4': '--text-color-4',
  'text-color-5': '--text-color-5',
  'text-color-6': '--text-color-6',
  'nav-bg-blue': '--nav-bg-blue',
  'nav-bg-green': '--nav-bg-green',
  'nav-bg-lightBlue': '--nav-bg-lightblue',
  'nav-bg-red': '--nav-bg-red',
  'nav-bg-yellow': '--nav-bg-yellow',
  'body-bg-blue': '--body-bg-blue',
  'body-bg-green': '--body-bg-green',
  'body-bg-lightBlue': '--body-bg-lightblue',
  'body-bg-red': '--body-bg-red',
  'body-bg-yellow': '--body-bg-yellow',
);

@mixin spread-map($map: (), $cssMap: $cssvars) {
  @each $key,
    $value in $map {

    $key: map-get($cssMap, $key);

    #{$key}: $value;
  }
}

@function map-deep-get($map, $keys...) {
  @each $key in $keys {
    $map: map-get($map, $key);
  }

  @return $map;
}

@mixin populate-theme($light: $thememaplight, $dark: $thememapdark, $cssVars: $cssvars) {
  :root.light {
    @include spread-map($light, $cssVars);
  }

  :root.dark {
    @include spread-map($dark, $cssVars);
  }
}

/*
  Returns a CSS variable property specific to themeing.
  Accepts an optional fallback, and optional map.
  - SCSS: color: theme-var($theme-primary, blue)
  - CSS:  color: var(--theme-primary, blue)
  Throws error if the variable not part of the map
*/
@function theme-var($key, $fallback: null, $map: $thememaplight, $cssVars: $cssvars) {
  @if not map-has-key($map, $key) {
    @error "key: #{$key}, is not a key in map: #{$map}";
  }

  $key: map-get($cssVars, $key);

  @if ($fallback) {
    @return var($key, $fallback);
  }

  @else {
    @return var($key);
  }
}
